<!-- <div class="p-container">
    
</div> -->

<div id = "cut" style="height:100vh; top: 0; left: 0; overflow: hidden;">
<div id="universal" class = "p-container" style="height: 100vh; overflow-y: scroll;">
<div id="actual hider hehe" style="height:4000px; width:100vw; transform-style: preserve-3d; display: none">
    <div id="parallax-hider" style="height:0; transform-style: preserve-3d; visibility: visible">
        <div class="p-section back" id="one" style="max-height: 2000px; width: 100vw; overflow-y: visible; visibility: visible">
            <img class="bg" style="transform: translateZ(-40px) translateY(80vh) translateX(-810px) scale(3); height: 1161px; width:auto; visibility: visible" src = "assets/background/bg2.png">
        </div> <!-- filter: blur(2px) brightness(0.5) saturate(1.5) hue-rotate(-20deg) -->
        <!-- <div class="p-section back" id="two" style="max-height: 1000px; top:0">
            <img class="bg" style="transform: translateZ(-20px) translateY(90vh) scale(3); filter: blur(1px); height: 1161px; width:3240px" src = "assets/background/bg1.png">
        </div>
        <div class="p-section back" id="three" style="max-height: 1000px; top:0">
            <img class="bg" style="transform: translateZ(-10px) translateY(100vh) scale(3); filter: brightness(1.1) saturate(1.0) hue-rotate(10deg) contrast(0.9); height: 522px; width:3240px" src = "assets/background/bg0.png">
        </div>
        <div class="p-section back" id="three" style="max-height: 1000px; top:0">
            <img class="bg" style="transform: translateZ(-10px) translateY(5701px) scale(3); filter: brightness(1.1) saturate(1.0) hue-rotate(10deg) contrast(0.9); width:3570px; height:auto" src = "assets/background/BGImg - orig.png">
        </div> -->
    </div>
</div>
<!-- <script -->
<div style="left: 128px; top: 100px; position: absolute; width: 100; height: 100; visibility: visible; overflow: hidden; z-index: 9;">
    <img class="sunmoon" style="height:32px; width: 32px; left:32px; top:32px; filter: drop-shadow(0px 0px 10px rgba(255, 255, 200, 0.5))" value="sun" onclick="togglenight()" src="assets/background/Sun.png" alt="Sun">
</div>

<!-- <div class = "" style="perspective:10px; height:100vh; margin: 0; position: relative; width: inherit;">
    <div class = "" style="transform-style: preserve-3d; height: 100vh; width: 100%;">
        <div class = "parallaxgradient"></div>
        <img class = "parallaximg" src = "assets/background/bg2.png" alt="hills" style="top:240px; position:relative; image-rendering: pixelated; object-fit: cover; height: 4644; object-position: -100vw 0">
        <img class = "parallaximg" src = "assets/background/bg2.png" alt="hills" style="position:absolute; image-rendering: pixelated; transform: translateZ(10px) scale(2)">
        <img class = 'paracloud pacl0' src = 'assets/background/Cloud1.png' style="height: 144" alt="cloud">
        <img class = 'paracloud pacl0' src = 'assets/background/Cloud2.png' style="height: 144" alt="cloud">
        <img class = 'paracloud pacl0' src = 'assets/background/Cloud3.png' style="height: 144" alt="cloud">
        <img class = 'paracloud pacl0' src = 'assets/background/Cloud4.png' style="height: 144" alt="cloud">
        <img class = 'paracloud pacl0' src = 'assets/background/Cloud1.png' style="height: 144" alt="cloud">
        <img class = 'paracloud pacl0' src = 'assets/background/Cloud2.png' style="height: 144" alt="cloud">
        <img class = 'paracloud pacl0' src = 'assets/background/Cloud3.png' style="height: 144" alt="cloud">
        <img class = 'paracloud pacl0' src = 'assets/background/Cloud4.png' style="height: 144" alt="cloud">
    </div>
    <div class = "parallax__layer parallax__layer--back" style="top: 0vh; width:inherit; height:inherit; left: -100vw">
        <div class = "parallaxgradient"></div>
        <img class = "parallaximg parallax__layer--back" src = "assets/background/bg1.png" alt="more hills" style="image-rendering: pixelated; object-fit: cover; height: 3483">
        <img class = 'paracloud pacl1' src = 'assets/background/Cloud1.png' style="height: 108" alt="cloud">
        <img class = 'paracloud pacl1' src = 'assets/background/Cloud2.png' style="height: 108" alt="cloud">
        <img class = 'paracloud pacl1' src = 'assets/background/Cloud3.png' style="height: 108" alt="cloud">
        <img class = 'paracloud pacl1' src = 'assets/background/Cloud4.png' style="height: 108" alt="cloud">
        <img class = 'paracloud pacl1' src = 'assets/background/Cloud1.png' style="height: 108" alt="cloud">
        <img class = 'paracloud pacl1' src = 'assets/background/Cloud2.png' style="height: 108" alt="cloud">
        <img class = 'paracloud pacl1' src = 'assets/background/Cloud3.png' style="height: 108" alt="cloud">
        <img class = 'paracloud pacl1' src = 'assets/background/Cloud4.png' style="height: 108" alt="cloud">
    </div>
    <div class = "parallax__layer parallax__layer--base" style="top: 2564px; height: inherit; width:230vw; left: -100vw; background-image: url('assets/background/BGImg36.png'); background-repeat:repeat;">
        <div class = "parallaxgradient"></div>
        <img class = "parallaximg parallax__layer--base" src = "assets/background/bg0.png" alt="even more hills" style="image-rendering: pixelated; object-fit: cover; height: 1044; margin-top:-1044px; filter:none">
        <img class = 'paracloud pacl2' src = 'assets/background/Cloud1.png' style="height: 72" alt="cloud">
        <img class = 'paracloud pacl2' src = 'assets/background/Cloud2.png' style="height: 72" alt="cloud">
        <img class = 'paracloud pacl2' src = 'assets/background/Cloud3.png' style="height: 72" alt="cloud">
        <img class = 'paracloud pacl2' src = 'assets/background/Cloud4.png' style="height: 72" alt="cloud">
        <img class = 'paracloud pacl2' src = 'assets/background/Cloud1.png' style="height: 72" alt="cloud">
        <img class = 'paracloud pacl2' src = 'assets/background/Cloud2.png' style="height: 72" alt="cloud">
        <img class = 'paracloud pacl2' src = 'assets/background/Cloud3.png' style="height: 72" alt="cloud">
        <img class = 'paracloud pacl2' src = 'assets/background/Cloud4.png' style="height: 72" alt="cloud">
    </div>
    <div class = "parallax__layer parallax__layer--fore" style="top: 130vh; height: 10000; width:inherit">
        <div class = "parallaxgradient"></div>
    </div>
    <div class = "parallax__layer parallax__layer--deep nightoverlay" style="left: -100vw; top: -100vh; z-index: 6;"></div>
</div> -->

<script type="application/javascript">
    function f(x) {
        return parseFloat(x);
    }
    var cloudToggled = (localStorage["zandgall.cloud"] || "true") === "true";
    var layerToggled = (localStorage["zandgall.layer"] || "true") === "true";
    let menuout = false;
    if(!layerToggled)
        $(".parallax__layer").css("visibility", "hidden");

    function killclouds() {
        if(cloudToggled) {
            $(".paracloud").css("visibility", "hidden");
            localStorage["zandgall.cloud"] = "false";
        } else {
            $(".paracloud").css("visibility", "visible");
            localStorage["zandgall.cloud"] = "true";
        }
        cloudToggled = !cloudToggled; 
    }

    function killlayers() {
        if(layerToggled) {
            $(".parallax__layer").css("visibility", "hidden");
            localStorage["zandgall.layer"] = "false";
        } else {
            $(".parallax__layer").css("visibility", "visible");
            localStorage["zandgall.layer"] = "true";
        }
        layerToggled = !layerToggled;
    }

    function killstars() {
        localStorage["zandgall.stars"] = (localStorage["zandgall.stars"] || "true") === "false"
    }

    function togglenight() {
        night = !night;
        if(night) {
            $(".sunmoon").attr("src", "assets/background/Moon.png");
            $(".sunmoon").attr("alt", "( o)")
            $("*").addClass("night");
        }
        else {
            $(".sunmoon").attr("src", "assets/background/Sun.png");
            $(".sunmoon").attr("alt", "â˜¼");
            $("*").removeClass("night");
        }
        document.documentElement.style.setProperty("--night", night ? 1 : 0);
    }

    function p(str) {
        if(str.endsWith("px"))
            return str.substr(0, str.length-2);
        else return str;
    }

    let menu = $(".bmenu");
    let blindex = 0, bhindex = 0, boffset = [];

    function parallaxheightupdate() {
        if(document.body.clientWidth>=850)
            $(".__links__").css("width", "850px");
        else $(".__links__").css("width", "100%");

        $(".__links__").css("left", (document.body.clientWidth-parseInt($(".__links__").css("width"), 10))/2);
        $(".parallax__group").css("height", $("#universal")[0].scrollHeight);
        if($("#universal")[0].scrollHeight > 4644)
            $(".parallaxgradient").css("height", $("#universal")[0].scrollHeight);
        $(".nightoverlay").css("height", $("#universal")[0].scrollHeight*4);

        if(!cloudToggled)
            return;
        var clouds = $(".paracloud");
        for(var i = 0; i < clouds.length; i++) {
            var rat = 1;
            if($(clouds[i]).is(".pacl0"))
                rat = 3;
            if($(clouds[i]).is(".pacl1"))
                rat = 2;
            var trans = $(clouds[i]).css("transform") || $(clouds[i]).css("-webkit-transform") || $(clouds[i]).css("-moz-transform") || $(clouds[i]).css("-mz-transform") || $(clouds[i]).css("-o-transform");
            var mat = (trans.replace(/[^0-9\-.,]/g, '').split(','));
            var x = f(mat[12] || mat[4] || 0) + f($(clouds[i]).data("data-speed"));
            $(clouds[i]).css("transform", "translateX("+ x + "px)");
            $(clouds[i]).css("-webkit-transform", "translateX("+ x + "px)");
            $(clouds[i]).css("-moz-transform", "translateX("+ x + "px)");
            $(clouds[i]).css("-mz-transform", "translateX("+ x + "px)");
            $(clouds[i]).css("-o-transform", "translateX("+ x + "px)");
            if(x>f($("body").width())*rat - f($(clouds[i]).parent().css("left"))){
                $(clouds[i]).css("transform", "translateX(-400px)");
                $(clouds[i]).css("top", Math.random()*1000*rat);
            }
        }
        lmouseClicked = false;
    }

    function menuupdate() {
        if(menu.length == 0)
            load();
        for(let i = 0; i < boffset.length; i++) {

            if(boffset[i].on) {
                boffset[i].current = boffset[i].current*0.8 + boffset[i].max*0.2;
            } else {
                boffset[i].current = boffset[i].current*0.8;
            }

            if(i==0)
            boffset[i].total= boffset[i].current;
            else boffset[i].total = boffset[i].current + boffset[i-1].total;
        }
        if(menuout) {
            for(let i = 0; i < menu.length; i++) {
                if($(menu[i]).attr("class").includes("bline")) {
                    let bwidth = p($(menu[i]).css("--bwidth"));
                    $(menu[i]).css("left", (775 - bwidth) * 0.2 + p($(menu[i]).css("left")) * 0.8);
                    $(menu[i]).css("width", bwidth * 0.2 + p($(menu[i]).css("width")) * 0.8);
                    $(menu[i]).css("top", (i-blindex+1-$(menu[i]).css("--bindex"))*55 + 10 + ($(menu[i]).css("--bindex")==0 ? 0 : boffset[$(menu[i]).css("--bindex")-1].total));
                } else if($(menu[i]).attr("class").includes("bholder")) {
                    $(menu[i]).css("top", (i-bhindex+2)*55 + 10 + ((i-bhindex)==0 ? 0 : boffset[i-bhindex-1].total));
                    $(menu[i]).css("height", boffset[i-bhindex].current);
                    $(menu[i]).css("left", 475 * 0.2 + p($(menu[i]).css("left")) * 0.8);
                } else {
                    $(menu[i]).css("margin-right", p($(menu[i]).css("margin-right")) * 0.8+5);
                    $(menu[i]).css("margin-top", (i+1)*55 + 10 + (i==0 ? 0 : boffset[i-1].total));
                }
            }
        } else {
            for(let i = 0; i < menu.length; i++) {
                if($(menu[i]).attr("class").includes("bline")) {
                    let bwidth = p($(menu[i]).css("--bwidth"));
                    $(menu[i]).css("left", 775 * 0.2 + p($(menu[i]).css("left")) * 0.8);
                    $(menu[i]).css("width", p($(menu[i]).css("width")) * 0.8);
                    $(menu[i]).css("top", (i-blindex+1-$(menu[i]).css("--bindex"))*55 + 10 + ($(menu[i]).css("--bindex")==0 ? 0 : boffset[$(menu[i]).css("--bindex")-1].total));
                } else if($(menu[i]).attr("class").includes("bholder")) {
                    $(menu[i]).css("top", (i-bhindex+2)*55 + 10 + ((i-bhindex)==0 ? 0 : boffset[i-bhindex-1].total));
                    $(menu[i]).css("height", boffset[i-bhindex].current);
                    $(menu[i]).css("left", 875 * 0.2 + p($(menu[i]).css("left")) * 0.8);
                } else {
                    $(menu[i]).css("margin-right", p($(menu[i]).css("margin-right")) * 0.8-200*0.2);
                    $(menu[i]).css("margin-top", (i+1)*55 + 10 + (i==0 ? 0 : boffset[i-1].total));
                }
            }
        }
    }

    var clouds = $(".paracloud");
    for(var i = 0; i < clouds.length; i++) {
        if(!cloudToggled)
            $(clouds[i]).css("visibility", "hidden");
        var rat = 1;
        if($(clouds[i]).is(".pacl0"))
            rat = 3;
        if($(clouds[i]).is(".pacl1"))
            rat = 2;
        var z = Math.random()*4;
        
        $(clouds[i]).css("transform", "translateX("+(Math.random()*f($("body").width())*rat)+"px)");
        $(clouds[i]).css("-webkit-transform", "translateX("+(Math.random()*f($("body").width())*rat)+"px)");
        $(clouds[i]).css("-moz-transform", "translateX("+(Math.random()*f($("body").width())*rat)+"px)");
        $(clouds[i]).css("-mz-transform", "translateX("+(Math.random()*f($("body").width())*rat)+"px)");
        $(clouds[i]).css("-o-transform", "translateX("+(Math.random()*f($("body").width())*rat)+"px)");
        $(clouds[i]).css("top", Math.random()*1000*rat);
        $(clouds[i]).data("data-speed", z/2.0+1.5);
    }

    window.setInterval(parallaxheightupdate, 64);
    window.setInterval(menuupdate, 13);
    function load() {
        // Handle menu setting
        for(let i = 0; i < /*Set menus*/ 10; i++)
            boffset.push({max: 10, current: 0, total:0, on: false});
        menu = $(".bmenu");
        for(let i = 0; i < menu.length; i++) {
            if($(menu[i]).attr("class").includes("bline")) {
                if(blindex==0)
                    blindex = i;
            } else if($(menu[i]).attr("class").includes("bholder")) {
                if(bhindex==0)
                    bhindex = i;
                for(let j = 0; j < $(menu[i]).children().length; j++) {
                    $($(menu[i]).children()[j]).css("margin-top", j*40);
                }
                boffset[i-bhindex].max = $(menu[i]).children().length*40 + 10;
            }
            else {
                boffset[i].max = $(menu[i]).css("--bsize");
            }
        }

        if ((localStorage["zandgall_dayNight"] || "day") == "night") {
            togglenight();
        }
    }

    function menuSelected(i) {
        // i is the index of the menu. Home = 0, Projects = 1, Resources = 2, etc.
        boffset[i].on = !boffset[i].on;
        if(boffset[i].on) {
            $($(".linkpages")[i]).children().addClass("selected");
        } else {
            $($(".linkpages")[i]).children().removeClass("selected");
        }
    }

    function openmenu() {
        menuout = !menuout;
    }
</script>


<div class = "splitter"></div>

<div id="move everything back up?" style="margin-top:0vh; height: auto">
    <h1 class="title" style="text-align: center; margin: auto; position:relative;"><a href=".." class="title"style="text-decoration: none; text-align: center; margin: auto">Zandgall.com</a></h1>
<?php
    echo "<h1 style='font-family: monospace;margin: 0;text-align: center;position: relative;'>" . $title . "</h1>";
    echo "<h1 style='font-family: monospace;margin: 0;text-align: center;font-style: italic;font-size: 14;position: relative;'>" . $subtitle . "</h1>";
?>


<div style="position: relative;margin: auto; margin-top:-110px; width: 800px; height:200px; float: right">
    <a href="#" class="burger" onclick="openmenu()"><div id="hamburger" style="width:50px; height:50px; position: absolute; top:25px; left: 725px">
        <div id="top bun" width=inherit style="height: 10px; position: relative; border: solid 0px; background-color:#8db6f3; border-radius: 20px"></div>
        <div id="meat" width=inherit style="height: 10px; position: relative; border: solid 0px; background-color:#8db6f3; margin-top: 10px; border-radius: 20px"></div>
        <div id="bottom bun" width=inherit style="height: 10px; position: relative; border: solid 0px; background-color:#8db6f3; margin-top: 10px; border-radius: 20px"></div>
    </div></a>
    <div class="bmenu" style="--bsize: 100; margin-right: -200px; margin-left: -200;">
        <a class = "linkpages" href="#" onclick="menuSelected(0)"><h3 class="basictext btopic">Home</h3></a>
    </div>
    <div class="bmenu" style="--bsize: 410; margin-right: -200px; margin-left: -200">
        <a class = "linkpages" href="#" onclick="menuSelected(1)"><h3 class="basictext link btopic">Projects</h3></a>
    </div>
    <div class="bmenu" style="--bsize: 100; margin-right: -200px; margin-left: -200">
        <a class = "linkpages" href="#" onclick="menuSelected(2)"><h3 class="basictext link btopic">Resources</h3></a>
    </div>
    <div class="bmenu" style="--bsize: 100; margin-right: -200px; margin-left: -200">
        <a class = "linkpages" href="#" onclick="menuSelected(3)"><h3 class="basictext link btopic">Misc</h3></a>
    </div>
    <div class="bmenu bline" style="position: absolute; --bindex:0; --bwidth:100; height: 10"></div>
    <div class="bmenu bline" style="position: absolute; --bindex:0; --bwidth:100;  height: 10"></div>
    <div class="bmenu bline" style="position: absolute; --bindex:1; --bwidth:140;  height: 10"></div>
    <div class="bmenu bline" style="position: absolute; --bindex:1; --bwidth:140;  height: 10"></div>
    <div class="bmenu bline" style="position: absolute; --bindex:2; --bwidth:185;  height: 10"></div>
    <div class="bmenu bline" style="position: absolute; --bindex:2; --bwidth:185;  height: 10"></div>
    <div class="bmenu bline" style="position: absolute; --bindex:3; --bwidth:100;  height: 10; z-index:10"></div>
    <div class="bmenu bline" style="position: absolute; --bindex:3; --bwidth:100;  height: 10"></div>
    <div class="bmenu bline" style="position: absolute; --bindex:4; --bwidth:100;  height: 10"></div>
    <div class="bmenu bholder">
        <a class="linkpages" href="index"><h3 class="basictext link linkpages">Homepage</h3></a>
        <a class="linkpages" href="about"><h3 class="basictext link linkpages">About</h3></a>
    </div>
    <div class="bmenu bholder">
        <a class="linkpages" href="arvopia"><h3 class="basictext link linkpages">Arvopia</h3></a>
        <a class="linkpages" href="bubblecannons"><h3 class="basictext link linkpages">BubbleCannons</h3></a>
        <a class="linkpages" href="solarglyphs"><h3 class="basictext link linkpages">Solar Glyphs</h3></a>
        <a class="linkpages" href="vectorfield"><h3 class="basictext link linkpages">Vector Field</h3></a>
        <a class="linkpages" href="marbo"><h3 class="basictext link linkpages">Super Marbo</h3></a>
        <a class="linkpages" href="lants"><h3 class="basictext link linkpages">Lants</h3></a>
        <a class="linkpages" href="schute"><h3 class="basictext link linkpages">Schute!</h3></a>
        <a class="linkpages" href="fallingmine"><h3 class="basictext link linkpages">Falling Mine</h3></a>
        <a class="linkpages" href="mapdecoder"><h3 class="basictext link linkpages">Map decoder </h3></a>
        <a class="linkpages" href="normalbuddy"><h3 class="basictext link linkpages">Normal Buddy</h3></a>
        <a class="linkpages" href="miscarvopiatools"><h3 class="basictext link linkpages">Misc Arvopia Tools</h3></a>
    </div>
    <div class="bmenu bholder">
        <a class="linkpages" href="funstuff"><h3 class="basictext link linkpages">Fun stuff</h3></a>
        <a class="linkpages" href="otherdownload"><h3 class="basictext link linkpages">Project Downloads</h3></a>
        <a class="linkpages" href="arvopiadownload"><h3 class="basictext link linkpages">Arvopia Downloads</h3></a>
        <a class="linkpages" href="arvopiabuilddownload"><h3 class="basictext link linkpages">Beta Downloads</h3></a>
        <a class="linkpages" href="music"><h3 class="basictext link linkpages">Music</h3></a>
        <!-- <a class="linkpages" href="resume"><h3 class="basictext link linkpages">Resume</h3></a>  -->
    </div>
    <div class="bmenu bholder">
        <a class="linkpages" href="#" onclick="killclouds()"><h3 class="basictext link linkpages">Toggle Clouds</h3></a>
        <a class="linkpages" href="#" onclick="killlayers()"><h3 class="basictext link linkpages">Toggle Layers</h3></a>
        <a class="linkpages" href="#" onclick="killstars()"><h3 class="basictext link linkpages">Toggle Stars</h3></a>
        <a class="linkpages" href="arvopialevelcreator"><h3 class="basictext link linkpages">Arvopia Level Creator</h3></a>
        <a class="linkpages" href="levelcreatordownload"><h3 class="basictext link linkpages">ALC Download</h3></a>
    </div>
</div>
 <div style="position: relative; margin: auto; width: 100%; height:100;"></div>