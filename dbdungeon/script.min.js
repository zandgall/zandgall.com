var e=!1;function t(){let e=$("#lstSlot").val(),t=$("input[name='radType']:checked").val(),n="toBackpack"==t&&"Empty"==BACKPACK[e]&&"Empty"!=PAGE[e]||"fromBackpack"==t&&"Empty"!=BACKPACK[e]&&"Empty"!=PAGE[e];return n?$("#interfaceSubmit").removeAttr("disabled"):$("#interfaceSubmit").attr("disabled","true"),n}function n(e){e.preventDefault(),fetch(DBDUNGEON_DIR+"post",{method:"POST",body:FormData(new FormData($("#interfaceForm")[0]))}),location.reload()}$("#interfaceForm").on("submit",n),window.onload=t;for(let e=1;e<=8;e++)null!=document.getElementById("page."+e+".header")&&o(document.getElementById("page."+e+".header")),null!=document.getElementById("backpack."+e+".header")&&o(document.getElementById("backpack."+e+".header"));function o(o){let a=o.parentElement;o.onmousedown=function(e){e.preventDefault(),l.x=e.clientX-a.offsetLeft,l.y=e.clientY-a.offsetTop,a.classList.contains("backpackSlot")&&(l.x+=a.parentElement.parentElement.offsetLeft,l.y+=a.parentElement.parentElement.offsetTop);a.classList.add("dragging"),document.onmouseup=m,document.onmousemove=c};let l={x:0,y:0};function c(e){e.preventDefault(),a.style.top=Math.floor(0*a.offsetTop-l.y+e.clientY)+"px",a.style.left=Math.floor(0*a.offsetLeft-l.x+e.clientX)+"px"}function m(o){$("#lstSlot").val(a.getAttribute("slot")),e&&a.classList.contains("pageSlot")?(document.getElementById("toBackpack").checked=!0,t()&&n(new Event)):!e&&a.classList.contains("backpackSlot")&&(document.getElementById("fromBackpack").checked=!0,t()&&n(new Event)),a.classList.remove("dragging"),a.style.removeProperty("top"),a.style.removeProperty("left"),document.onmouseup=null,document.onmousemove=null}}